<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Writing Recipes &mdash; Insight on Network Simulations  documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=19f00094" />

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js?v=5d32c60e"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="_static/documentation_options.js?v=5929fcd5"></script>
        <script src="_static/doctools.js?v=9a2dae69"></script>
        <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            Insight on Network Simulations
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="evaluation_plotting.html">Evaluation &amp; Plotting</a></li>
<li class="toctree-l1"><a class="reference internal" href="using_transforms.html">Using Transforms</a></li>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quick Start</a></li>
<li class="toctree-l1"><a class="reference internal" href="best_practices.html">Best practices</a></li>
<li class="toctree-l1"><a class="reference internal" href="cluster_managment.html">Running IoNS on a cluster</a></li>
<li class="toctree-l1"><a class="reference internal" href="tools.html">Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="documentation.html">Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="debugging.html">Debugging</a></li>
<li class="toctree-l1"><a class="reference internal" href="troubleshooting.html">Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="api_reference.html">API reference</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Insight on Network Simulations</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Writing Recipes</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/writing_recipes.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="writing-recipes">
<h1>Writing Recipes<a class="headerlink" href="#writing-recipes" title="Link to this heading"></a></h1>
<p>A few things are very important:</p>
<ul class="simple">
<li><p>Be very observant about indentation.
YAML uses indentation for scoping attributes to objects/collections, i.e. structural scope, just like Python.
This can lead to a <code class="docutils literal notranslate"><span class="pre">yaml.parser.ParserError</span></code>, a <code class="docutils literal notranslate"><span class="pre">TypeError</span></code> about missing
arguments to a <code class="docutils literal notranslate"><span class="pre">__init__</span></code> constructor  or just silent misattribution of a
parameter to the wrong object. Be attentive of indentation and check the
recipe with the help of the <code class="docutils literal notranslate"><span class="pre">--dump-recipe-only</span></code> flag
See the chapter of the YAML specification on <a class="reference external" href="https://yaml.org/spec/1.2.2/#61-indentation-spaces">Indentation Spaces</a> for details.</p></li>
</ul>
<p>The key points to remember are:</p>
<ul class="simple">
<li><p>don’t use tabs for indentation (see link above)</p></li>
<li><p>the indentation depth is not important, but it has to be consistent throughout the whole recipe document</p></li>
<li><p>use <code class="docutils literal notranslate"><span class="pre">--dump-recipe-only</span></code> to print the parsed recipe to stdout end exit
without executing it. This allows for checking parameter values and escaping
as well as indentation error that have not been caught by the parser.</p></li>
<li><p>file paths are always parsed as regular expressions, so one should add a <code class="docutils literal notranslate"><span class="pre">$</span></code>
add the end of an expression for matching input files such as <code class="docutils literal notranslate"><span class="pre">.vec</span></code> to
exclude journal files (<code class="docutils literal notranslate"><span class="pre">.vec-journal</span></code>) which would produce a lot of
unnecessary errors</p></li>
<li><p>A path given in a recipe is evaluated relative to the current working directory of execution.
It is thus advisable to use absolute paths whenever possible.
Otherwise, if one uses e.g. <code class="docutils literal notranslate"><span class="pre">pdm</span> <span class="pre">run</span></code> with the <code class="docutils literal notranslate"><span class="pre">-p</span></code> flag to set an
alternative virtualenv root than the current directory, all relative paths in
the recipe will be interpreted as relative to the current directory rather than the virtualenv root.</p></li>
<li><p>A parameter of a task must be defined only once. Do not redefine a parameter
for convenience. This might work in practice, but that is an implementation
detail that one must not rely upon (the YAML specification does not require
a order on mappings, see <a class="reference external" href="https://yaml.org/spec/1.2.2/#3221-mapping-key-order">mapping key
order</a>). Put
differently, the parameters of a task are block mappings that are then used
as keys into a Python dictionary.</p></li>
</ul>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2020, Christian Hagau.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>